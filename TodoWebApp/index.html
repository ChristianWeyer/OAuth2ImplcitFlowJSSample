<!DOCTYPE html>
<html>
<head>
	<title>tUdUs</title>

	<meta charset="utf-8">
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0" />
		
	<link href="styles/kendo.mobile.all.min.css" rel="stylesheet" type="text/css" />
    
	<script src="js/libs/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script src="js/libs/kendo.mobile.min.js" type="text/javascript"></script>    
	<script src="js/libs/jquery.ba-bbq.min.js" type="text/javascript"></script>
	
    <script src="js/app.js"></script>
    <script src="js/applicationConstants.js"></script>
    <script src="js/viewmodels/startViewModel.js"></script>
    <script src="js/viewmodels/oauth2ViewModel.js"></script>
    <script src="js/viewmodels/todosViewModel.js"></script>
    <script src="js/services/dataservices.js"></script>
	<script>
	    function oAuthCallback(params) {
	        oauth2ViewModel.loginCallback(params);
	    }
	</script>
</head>
    <body>         
        <!-- Start page -->
        <div id="startPage" data-role="view" data-title="tUdUs" data-model="startViewModel" data-layout="defaultLayout">
            <header data-role="header">
                <div data-role="navbar">
                    <span data-role="view-title"></span>
                </div>
            </header>
            <img src="images/Wooden_Todo_256x256.png" alt="tUdUs" />
            <a data-role="button" id="openLoginButton" data-bind="click: openLoginView">Login</a>
        </div>
        
        <div id="todosPage" data-role="view" data-title="tUdUs" data-model="todosViewModel" data-layout="defaultLayout">
            <header data-role="header">
                <div data-role="navbar">
                    <span data-role="view-title"></span>
                    <a data-align="left" data-role="button" class="nav-button" data-icon="refresh" data-bind="click: loadTodos"></a>    
                </div>
            </header>
		
            <h2>Items</h2>
				
            <ul id="tasksList" data-role="listview" data-style="inset" data-bind="source: todosSource" data-template="tasksListTemplate" >
            </ul>
        </div>

        <!-- Layouts -->
        <div data-role="layout" data-id="defaultLayout">
            <footer data-role="footer">
                <div data-role="tabstrip" id="navigationTabStrip">                    
                    <a data-icon="home" href="#startPage">Home</a>
                    <a data-icon="bookmarks" href="#todosPage">Items</a>
                </div>
            </footer>
        </div>        
        
        <!-- Templates -->    
        <script id="tasksListTemplate" type="text/x-kendo-template">
        <a class="details-link" data-role="listview-link">#= title#</a>
        </script>

        <style>
        #startPage {
            text-align: center;
        }

        #startPage img {
            display: block;
            margin: 30px auto;
        }
        </style>
    </body>
</html>
